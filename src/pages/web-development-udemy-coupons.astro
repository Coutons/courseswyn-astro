---
import MainLayout from "../layouts/MainLayout.astro";
import coupons from "../data/coupons.json";
import DealCard from "../components/coupon/DealCard.astro";

// Get Web Development courses from coupons data
const webDevCourses = coupons.filter((coupon: any) => {
  const categoryLower = coupon.category?.toLowerCase() || '';
  const subcategoryLower = coupon.subcategory?.toLowerCase() || '';
  const titleLower = coupon.title?.toLowerCase() || '';
  const descriptionLower = coupon.description?.toLowerCase() || '';
  
  // Filter for Web Development related courses
  return categoryLower.includes('web development') || 
         subcategoryLower.includes('web development') ||
         titleLower.includes('web') ||
         titleLower.includes('html') ||
         titleLower.includes('css') ||
         titleLower.includes('javascript') ||
         titleLower.includes('react') ||
         titleLower.includes('vue') ||
         titleLower.includes('angular') ||
         descriptionLower.includes('web development') ||
         descriptionLower.includes('frontend') ||
         descriptionLower.includes('backend');
}).sort((a: any, b: any) => {
  // Sort by students (descending) then rating (descending)
  const studentsDiff = ((b as any).students || 0) - ((a as any).students || 0);
  if (studentsDiff !== 0) return studentsDiff;
  
  const ratingDiff = ((b as any).rating || 0) - ((a as any).rating || 0);
  return ratingDiff;
});

// Dynamic freshness stats
const today = new Date();
const thisWeek = webDevCourses.filter((coupon: any) => {
  const couponDate = new Date(coupon.createdAt || coupon.date);
  const daysDiff = Math.floor((today.getTime() - couponDate.getTime()) / (1000 * 60 * 60 * 24));
  return daysDiff <= 7;
}).length;

const expiringSoon = webDevCourses.filter((coupon: any) => {
  if (!coupon.expiresAt) return false;
  const expiryDate = new Date(coupon.expiresAt);
  const daysDiff = Math.floor((expiryDate.getTime() - today.getTime()) / (1000 * 60 * 60 * 24));
  return daysDiff <= 1 && daysDiff >= 0;
}).length;

// SEO data
const pageTitle = `Web Development Udemy Coupons - Free Web Courses 2026 | CoursesWyn`;
const pageDescription = `Get ${webDevCourses.length}+ verified web development Udemy coupons and free courses. Learn HTML, CSS, JavaScript, React, Vue, Angular, and full-stack development with 100% off coupons.`;

// SEO-optimized Course Schema with mainEntityOfPage
const webDevSchema = {
  "@context": "https://schema.org",
  "@type": "CollectionPage",
  "name": "Web Development Udemy Coupons",
  "description": pageDescription,
  "url": "https://courseswyn.com/web-development-udemy-coupons/",
  "mainEntityOfPage": {
    "@type": "CollectionPage",
    "name": "Web Development Udemy Coupons",
    "description": pageDescription,
    "url": "https://courseswyn.com/web-development-udemy-coupons/"
  },
  "about": {
    "@type": "Thing",
    "name": "Web Development"
  },
  "mainEntity": {
    "@type": "ItemList",
    "name": "Web Development Courses",
    "description": pageDescription,
    "numberOfItems": webDevCourses.length,
    "itemListElement": webDevCourses.map((course: any, index: number) => ({
      "@type": "Course",
      "position": index + 1,
      "name": course.title,
      "description": course.description,
      "provider": {
        "@type": "Organization",
        "name": course.provider
      },
      "offers": {
        "@type": "Offer",
        "price": course.price === 0 ? "Free" : `$${course.price}`,
        "priceCurrency": "USD",
        "availability": "https://schema.org/InStock",
        "validFrom": course.createdAt,
        "url": `https://courseswyn.com/coupon/${course.slug}`
      }
    }))
  }
};

// FAQ Schema
const faqSchema = {
  "@context": "https://schema.org",
  "@type": "FAQPage",
  "mainEntity": [
    {
      "@type": "Question",
      "name": "Do I need to learn HTML and CSS first?",
      "acceptedAnswer": {
        "@type": "Answer",
        "text": "Yes! HTML and CSS are the building blocks of web development. While some courses cover them briefly, having a solid foundation in HTML and CSS will make learning JavaScript and frameworks much easier."
      }
    },
    {
      "@type": "Question",
      "name": "Which web framework should I learn first?",
      "acceptedAnswer": {
        "@type": "Answer",
        "text": "React is currently the most popular and has the most job opportunities. However, Vue is often recommended for beginners due to its gentle learning curve. Angular is preferred in enterprise environments. Start with one and expand your knowledge later."
      }
    },
    {
      "@type": "Question",
      "name": "Can I become a web developer without a degree?",
      "acceptedAnswer": {
        "@type": "Answer",
        "text": "Absolutely! Many successful web developers are self-taught or have completed bootcamps. What matters most is your portfolio, problem-solving skills, and ability to build real projects. Udemy courses provide excellent foundation for self-learning."
      }
    },
    {
      "@type": "Question",
      "name": "How long does it take to become a web developer?",
      "acceptedAnswer": {
        "@type": "Answer",
        "text": "With dedicated learning, you can become job-ready in 6-12 months. This timeline varies based on your prior experience, learning pace, and the time you can commit to practice and project building."
      }
    }
  ]
};
---

<MainLayout 
  title={pageTitle}
  description={pageDescription}
  canonical="https://courseswyn.com/web-development-udemy-coupons/"
  ogImage="https://courseswyn.com/og-web-development-coupons.jpg"
  structuredData={webDevSchema}
>

  <!-- FAQ Schema -->
  <script is:inline type="application/ld+json" set:html={JSON.stringify(faqSchema)} />

  <!-- Breadcrumb Navigation -->
  <nav aria-label="Breadcrumb" class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-4">
    <ol class="flex items-center space-x-2 text-sm text-muted-foreground">
      <li>
        <a href="/" class="hover:text-foreground transition-colors">Home</a>
      </li>
      <li>
        <a href="/coupon" class="hover:text-foreground transition-colors">Coupons</a>
      </li>
      <li aria-current="page" class="text-foreground font-medium">Web Development Courses</li>
    </ol>
  </nav>

  <!-- Web Development Category Header -->
  <section class="py-16 bg-card">
    <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
      <div class="text-center">
        <div class="w-20 h-20 bg-gradient-to-br from-orange-500/20 to-red-500/20 rounded-3xl flex items-center justify-center text-5xl mx-auto mb-6">
          ‚öõÔ∏è
        </div>
        <h1 class="text-4xl font-bold text-foreground mb-4">
          Web Development Udemy Coupons
        </h1>
        <p class="text-xl text-muted-foreground max-w-3xl mx-auto mb-8">
          Get {webDevCourses.length}+ verified web development Udemy coupons and free courses. 
          Learn HTML, CSS, JavaScript, React, Vue, Angular, and full-stack development with 100% off coupons.
        </p>
        
        <!-- Dynamic Freshness Stats -->
        <div class="flex items-center justify-center gap-6 text-sm mb-8">
          <div class="flex items-center gap-2">
            <span class="w-2 h-2 bg-green-500 rounded-full animate-pulse"></span>
            <span class="text-foreground font-medium">{webDevCourses.length}+ Web Courses</span>
          </div>
          <div class="flex items-center gap-2">
            <span class="w-2 h-2 bg-blue-500 rounded-full"></span>
            <span class="text-foreground font-medium">{thisWeek} verified this week</span>
          </div>
          <div class="flex items-center gap-2">
            <span class="w-2 h-2 bg-orange-500 rounded-full"></span>
            <span class="text-foreground font-medium">{expiringSoon} expiring in 24h</span>
          </div>
          <div class="flex items-center gap-2">
            <span class="w-2 h-2 bg-purple-500 rounded-full"></span>
            <span class="text-foreground font-medium">Updated {today.toLocaleDateString('en-US', { month: 'long', year: 'numeric' })}</span>
          </div>
        </div>
      </div>
    </div>
  </section>

  <!-- Mini-Index Table (Semantic Reinforcement) -->
  <section class="py-8 bg-background">
    <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
      <div class="max-w-4xl mx-auto">
        <div class="bg-card rounded-lg p-6 border border-border">
          <h3 class="text-lg font-semibold text-foreground mb-4">Web Development Topics Available</h3>
          <div class="grid grid-cols-2 md:grid-cols-4 gap-4 text-sm">
            <div class="flex justify-between items-center p-3 bg-muted/50 rounded-lg">
              <span class="text-muted-foreground">HTML & CSS</span>
              <span class="text-foreground font-medium">{webDevCourses.filter(c => c.title?.toLowerCase().includes('html') || c.title?.toLowerCase().includes('css')).length || 0}</span>
            </div>
            <div class="flex justify-between items-center p-3 bg-muted/50 rounded-lg">
              <span class="text-muted-foreground">JavaScript</span>
              <span class="text-foreground font-medium">{webDevCourses.filter(c => c.title?.toLowerCase().includes('javascript')).length || 0}</span>
            </div>
            <div class="flex justify-between items-center p-3 bg-muted/50 rounded-lg">
              <span class="text-muted-foreground">React</span>
              <span class="text-foreground font-medium">{webDevCourses.filter(c => c.title?.toLowerCase().includes('react')).length || 0}</span>
            </div>
            <div class="flex justify-between items-center p-3 bg-muted/50 rounded-lg">
              <span class="text-muted-foreground">Vue & Angular</span>
              <span class="text-foreground font-medium">{webDevCourses.filter(c => c.title?.toLowerCase().includes('vue') || c.title?.toLowerCase().includes('angular')).length || 0}</span>
            </div>
          </div>
        </div>
      </div>
    </div>
  </section>

  <!-- Web Development Courses Grid (70% Listing Priority) -->
  <section class="py-16 bg-card">
    <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
      <div class="text-center mb-12">
        <h2 class="text-3xl font-bold text-foreground mb-4">
          Active Web Development Coupons
        </h2>
        <p class="text-lg text-muted-foreground max-w-3xl mx-auto">
          Verified web development courses with 100% off Udemy coupons
        </p>
      </div>
      
      {webDevCourses.length > 0 ? (
        <div class="grid sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4">
          {webDevCourses.map((course: any) => (
            <DealCard {...course} variant="compact" />
          ))}
        </div>
      ) : (
        <div class="text-center py-12">
          <div class="bg-muted/30 rounded-lg p-8 max-w-md mx-auto">
            <svg class="w-16 h-16 text-muted-foreground mx-auto mb-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"></path>
            </svg>
            <h3 class="text-xl font-semibold text-foreground mb-2">No Web Development Courses Found</h3>
            <p class="text-muted-foreground">
              Check back soon for new web development courses with Udemy coupons.
            </p>
          </div>
        </div>
      )}
    </div>
  </section>

  <!-- Compact Authority Content (30% Authority) -->
  <section class="py-16 bg-background">
    <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
      <div class="max-w-4xl mx-auto">
        <div class="prose prose-lg max-w-none text-muted-foreground leading-relaxed space-y-6">
          <h2 class="text-3xl font-semibold text-foreground mb-4">Why Learn Web Development with Udemy Coupons?</h2>
          
          <p>
            <strong class="text-foreground">Web development</strong> is one of the most in-demand skills in today's digital economy. 
            With <strong class="text-foreground">free web development courses</strong> from Udemy, you can master the art of building 
            modern websites and web applications without financial barriers. Web developers create everything from 
            simple landing pages to complex web applications that power businesses worldwide.
          </p>
          
          <h3 class="text-2xl font-semibold text-foreground mb-4 mt-8">Web Development Career Opportunities</h3>
          
          <p>
            Learning web development opens doors to numerous high-paying career paths. <strong class="text-foreground">Web developers</strong> 
            are essential for businesses of all sizes, from startups to Fortune 500 companies. 
            The average web developer salary ranges from <strong class="text-foreground">$70,000 to $120,000+</strong> depending on experience and location.
          </p>
          
          <div class="bg-orange-500/10 rounded-xl p-6 border border-orange-500/20 mt-8">
            <h4 class="text-lg font-semibold text-foreground mb-4">Web Development Learning Path</h4>
            <div class="space-y-3 text-sm">
              <div class="flex items-start gap-3">
                <span class="text-orange-500 mt-1">üéØ</span>
                <div>
                  <strong class="text-foreground">Frontend:</strong> HTML, CSS, JavaScript, React, Vue, Angular
                </div>
              </div>
              <div class="flex items-start gap-3">
                <span class="text-orange-500 mt-1">üöÄ</span>
                <div>
                  <strong class="text-foreground">Backend:</strong> Node.js, Express, databases, APIs
                </div>
              </div>
              <div class="flex items-start gap-3">
                <span class="text-orange-500 mt-1">üèÜ</span>
                <div>
                  <strong class="text-foreground">Full-Stack:</strong> End-to-end web application development
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </section>

  <!-- FAQ Section (Optimized for Long-Tail) -->
  <section class="py-16 bg-card">
    <div class="max-w-4xl mx-auto px-4 sm:px-6 lg:px-8">
      <div class="text-center mb-12">
        <h2 class="text-3xl font-bold text-foreground mb-4">
          Web Development Learning FAQ
        </h2>
        <p class="text-lg text-muted-foreground">
          Common questions about learning web development with Udemy coupons
        </p>
      </div>
      
      <div class="space-y-6">
        <div class="bg-card rounded-lg p-6 border border-border">
          <h3 class="text-lg font-semibold text-foreground mb-3">
            Do I need to learn HTML and CSS first?
          </h3>
          <p class="text-muted-foreground">
            Yes! HTML and CSS are the building blocks of web development. While some courses cover them briefly, 
            having a solid foundation in HTML and CSS will make learning JavaScript and frameworks much easier.
          </p>
        </div>
        
        <div class="bg-card rounded-lg p-6 border border-border">
          <h3 class="text-lg font-semibold text-foreground mb-3">
            Which web framework should I learn first?
          </h3>
          <p class="text-muted-foreground">
            React is currently the most popular and has the most job opportunities. However, Vue is often recommended 
            for beginners due to its gentle learning curve. Angular is preferred in enterprise environments. 
            Start with one and expand your knowledge later.
          </p>
        </div>
        
        <div class="bg-card rounded-lg p-6 border border-border">
          <h3 class="text-lg font-semibold text-foreground mb-3">
            Can I become a web developer without a degree?
          </h3>
          <p class="text-muted-foreground">
            Absolutely! Many successful web developers are self-taught or have completed bootcamps. What matters most is 
            your portfolio, problem-solving skills, and ability to build real projects. Udemy courses provide excellent 
            foundation for self-learning.
          </p>
        </div>
        
        <div class="bg-card rounded-lg p-6 border border-border">
          <h3 class="text-lg font-semibold text-foreground mb-3">
            How long does it take to become a web developer?
          </h3>
          <p class="text-muted-foreground">
            With dedicated learning, you can become job-ready in 6-12 months. This timeline varies based on your 
            prior experience, learning pace, and the time you can commit to practice and project building.
          </p>
        </div>
      </div>
    </div>
  </section>

  <!-- Minimal Related Categories (Strategic Cross-Link) -->
  <section class="py-16 bg-background">
    <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
      <div class="text-center mb-8">
        <h2 class="text-2xl font-bold text-foreground mb-4">
          Related Programming Topics
        </h2>
      </div>
      
      <div class="grid md:grid-cols-3 gap-6 max-w-4xl mx-auto">
        <a href="/python-udemy-coupons/" class="group">
          <div class="bg-card rounded-lg p-6 border border-border hover:shadow-lg transition-all">
            <div class="w-12 h-12 bg-gradient-to-br from-blue-500/20 to-cyan-500/20 rounded-lg flex items-center justify-center text-2xl mb-4 group-hover:scale-110 transition-transform">
              üêç
            </div>
            <h3 class="text-lg font-semibold text-foreground mb-2 group-hover:text-primary transition-colors">
              Python Programming
            </h3>
            <p class="text-muted-foreground text-sm">
              Python fundamentals, Django, Flask, data science, and machine learning
            </p>
          </div>
        </a>
        
        <a href="/data-science-udemy-coupons/" class="group">
          <div class="bg-card rounded-lg p-6 border border-border hover:shadow-lg transition-all">
            <div class="w-12 h-12 bg-gradient-to-br from-green-500/20 to-blue-500/20 rounded-lg flex items-center justify-center text-2xl mb-4 group-hover:scale-110 transition-transform">
              üìä
            </div>
            <h3 class="text-lg font-semibold text-foreground mb-2 group-hover:text-primary transition-colors">
              Data Science
            </h3>
            <p class="text-muted-foreground text-sm">
              Data analysis, machine learning, and big data technologies
            </p>
          </div>
        </a>
        
        <a href="/category/design/" class="group">
          <div class="bg-card rounded-lg p-6 border border-border hover:shadow-lg transition-all">
            <div class="w-12 h-12 bg-gradient-to-br from-pink-500/20 to-purple-500/20 rounded-lg flex items-center justify-center text-2xl mb-4 group-hover:scale-110 transition-transform">
              üé®
            </div>
            <h3 class="text-lg font-semibold text-foreground mb-2 group-hover:text-primary transition-colors">
              Design & UX
            </h3>
            <p class="text-muted-foreground text-sm">
              UI/UX design, web design, and creative skills
            </p>
          </div>
        </a>
      </div>
    </div>
  </section>

</MainLayout>
