---
import Layout from '../../layouts/Layout.astro';
import courses from '../../data/coupons.json';

const categories = [...new Set(courses.map(c => c.category))].sort();
---

<Layout
  title={`2500+ Free Udemy Courses - [Update Today] - 100% Off Coupons (2026)) - CoursesWyn`}
  description={`Get ${courses.length}+ verified Udemy course coupons with 90% discounts. Free lifetime access to programming, business, design, and more. Updated daily with trending courses.`}
  keywords="free courses, online courses deals and copouns, Javascript, Java, Python, R, Android, Swift, Objective-C, React, Node Js, Ember, Vue Js, C++, SQL, Scala, Data Science, Machine Learning, AI, Business, Marketing, Design, Photography, Personal Development"
>
  <header class="mb-12 border-b border-slate-700 pb-8">
    <h1 id="page-title" class="text-5xl font-bold text-slate-100 mb-4">Free Udemy Courses [Update Today]</h1>
    <p id="page-description" class="text-xl text-slate-400 mb-6 leading-relaxed">Discover ${courses.length}+ verified Udemy course coupons offering up to 90% discounts. Get lifetime access to premium courses in programming, business, marketing, design, data science, and more.</p>
    <div class="flex flex-wrap gap-6 text-sm">
      <div class="flex items-center gap-2 bg-slate-800/50 border border-slate-700 rounded-lg px-4 py-2">
        <svg class="w-5 h-5 text-green-400" fill="currentColor" viewBox="0 0 20 20">
          <path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z" clip-rule="evenodd" />
        </svg>
        <span class="text-slate-300"><span id="total-count" class="font-bold text-slate-100">{courses.length}</span>+ Verified Coupons</span>
      </div>
      <div class="flex items-center gap-2 bg-slate-800/50 border border-slate-700 rounded-lg px-4 py-2">
        <svg class="w-5 h-5 text-blue-400" fill="currentColor" viewBox="0 0 20 20">
          <path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z" clip-rule="evenodd" />
        </svg>
        <span class="text-slate-300"><span class="font-bold text-slate-100">100%</span> Tested & Working</span>
      </div>
      <div class="flex items-center gap-2 bg-slate-800/50 border border-slate-700 rounded-lg px-4 py-2">
        <svg class="w-5 h-5 text-amber-400" fill="currentColor" viewBox="0 0 20 20">
          <path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z" clip-rule="evenodd" />
        </svg>
        <span class="text-slate-300"><span class="font-bold text-slate-100">Lifetime</span> Access</span>
      </div>
      <div class="flex items-center gap-2 bg-slate-800/50 border border-slate-700 rounded-lg px-4 py-2">
        <svg class="w-5 h-5 text-red-400" fill="currentColor" viewBox="0 0 20 20">
          <path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z" clip-rule="evenodd" />
        </svg>
        <span class="text-slate-300">Updated <span class="font-bold text-slate-100">Daily</span></span>
      </div>
    </div>
  </header>

  <!-- Course Grid -->
  <section id="courses-grid" class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6">
    <!-- Courses will be rendered by JavaScript -->
  </section>

  <!-- Pagination -->
  <div id="pagination-container" class="mt-8 flex justify-center" style="display: none;">
    <!-- Pagination will be generated by JavaScript -->
  </div>

  <!-- Informational Sections -->
  <section class="mb-8" aria-label="Categories">
    <h2 class="text-3xl font-bold text-slate-100 mb-6">Subjects</h2>
    <div class="flex flex-wrap gap-3 mb-8">
      {categories.map(cat => (
        <a
          href={`/coupon/?category=${cat.toLowerCase().replace(/[^a-z0-9\s]/g, '').replace(/\s+/g, '-')}`}
          class="px-4 py-2 rounded-full bg-slate-800/60 border border-slate-700 hover:border-blue-500/60 hover:bg-slate-800 text-sm text-slate-300 hover:text-blue-300 font-medium transition-all duration-300"
        >{cat} ({courses.filter(c => c.category === cat).length})</a>
      ))}
    </div>
  </section>

  <section class="mb-12" aria-label="About Udemy">
    <h2 class="text-3xl font-bold text-slate-100 mb-6">About Udemy</h2>
    <ul class="space-y-3">
      <li class="flex gap-3"><span class="text-blue-400 font-bold">‚Ä¢</span><div><span class="text-slate-200 font-semibold">Popular Platform:</span> <span class="text-slate-400">Udemy is one of the most popular online learning platforms, offering thousands of courses in diverse fields.</span></div></li>
      <li class="flex gap-3"><span class="text-blue-400 font-bold">‚Ä¢</span><div><span class="text-slate-200 font-semibold">Affordable Learning:</span> <span class="text-slate-400">Free Udemy courses provide an affordable way to acquire new skills, whether you're a student, professional, or lifelong learner.</span></div></li>
      <li class="flex gap-3"><span class="text-blue-400 font-bold">‚Ä¢</span><div><span class="text-slate-200 font-semibold">Self-Paced:</span> <span class="text-slate-400">These courses allow you to explore topics like programming, marketing, and design at your own pace.</span></div></li>
      <li class="flex gap-3"><span class="text-blue-400 font-bold">‚Ä¢</span><div><span class="text-slate-200 font-semibold">Accessible Education:</span> <span class="text-slate-400">Making quality education accessible to everyone worldwide.</span></div></li>
    </ul>
  </section>

  <section class="mb-12" aria-label="Categories Covered">
    <h2 class="text-3xl font-bold text-slate-100 mb-6">Categories Covered by Free Udemy Courses</h2>
    <ul class="space-y-3">
      <li class="flex gap-3"><span class="text-blue-400 font-bold">‚Ä¢</span><div><span class="text-slate-200 font-semibold">Technology and Programming:</span> <span class="text-slate-400">Learn programming languages like Python, Java, and JavaScript or explore data science and web development.</span></div></li>
      <li class="flex gap-3"><span class="text-blue-400 font-bold">‚Ä¢</span><div><span class="text-slate-200 font-semibold">Business and Entrepreneurship:</span> <span class="text-slate-400">Master skills in business management, leadership, and starting a new venture.</span></div></li>
      <li class="flex gap-3"><span class="text-blue-400 font-bold">‚Ä¢</span><div><span class="text-slate-200 font-semibold">Marketing and Digital Skills:</span> <span class="text-slate-400">Enhance your knowledge in SEO, social media marketing, and digital advertising strategies.</span></div></li>
      <li class="flex gap-3"><span class="text-blue-400 font-bold">‚Ä¢</span><div><span class="text-slate-200 font-semibold">Health and Personal Development:</span> <span class="text-slate-400">Focus on wellness, mindfulness, and personal growth with practical tips and exercises.</span></div></li>
      <li class="flex gap-3"><span class="text-blue-400 font-bold">‚Ä¢</span><div><span class="text-slate-200 font-semibold">Creative Arts and Design:</span> <span class="text-slate-400">Develop your creativity with courses in graphic design, photography, and video editing.</span></div></li>
    </ul>
  </section>

  <section class="mb-12" aria-label="Benefits">
    <h2 class="text-3xl font-bold text-slate-100 mb-6">Benefits of Taking Free Udemy Courses</h2>
    <ul class="space-y-3">
      <li class="flex gap-3"><span class="text-green-400 font-bold">‚úì</span><div><span class="text-slate-200 font-semibold">Affordable Learning:</span> <span class="text-slate-400">Access high-quality education without spending a dime.</span></div></li>
      <li class="flex gap-3"><span class="text-green-400 font-bold">‚úì</span><div><span class="text-slate-200 font-semibold">Flexibility:</span> <span class="text-slate-400">Study at your own pace with self-paced course structures.</span></div></li>
      <li class="flex gap-3"><span class="text-green-400 font-bold">‚úì</span><div><span class="text-slate-200 font-semibold">Skill Development:</span> <span class="text-slate-400">Gain valuable skills that enhance your personal and professional growth.</span></div></li>
      <li class="flex gap-3"><span class="text-green-400 font-bold">‚úì</span><div><span class="text-slate-200 font-semibold">Wide Variety:</span> <span class="text-slate-400">Choose from numerous categories to suit your interests and career goals.</span></div></li>
      <li class="flex gap-3"><span class="text-green-400 font-bold">‚úì</span><div><span class="text-slate-200 font-semibold">Certification Options:</span> <span class="text-slate-400">Some free courses offer optional paid certificates for added credentials.</span></div></li>
    </ul>
  </section>

  <section class="mb-12" aria-label="How to Find">
    <h2 class="text-3xl font-bold text-slate-100 mb-6">How to Find Free Udemy Courses</h2>
    <ol class="space-y-3">
      <li class="flex gap-3"><span class="text-blue-400 font-bold">1.</span><div><span class="text-slate-200 font-semibold">Search the Platform:</span> <span class="text-slate-400">Use keywords like "free courses" in Udemy's search bar to find available options.</span></div></li>
      <li class="flex gap-3"><span class="text-blue-400 font-bold">2.</span><div><span class="text-slate-200 font-semibold">Filter by Price:</span> <span class="text-slate-400">Apply the "Free" filter while browsing Udemy's course catalog.</span></div></li>
      <li class="flex gap-3"><span class="text-blue-400 font-bold">3.</span><div><span class="text-slate-200 font-semibold">Stay Updated:</span> <span class="text-slate-400">Follow Udemy's promotional emails or social media for announcements about new free courses.</span></div></li>
    </ol>
  </section>

  <section class="mb-12" aria-label="Tips for Maximizing Learning">
    <h2 class="text-3xl font-bold text-slate-100 mb-6">Tips for Maximizing Learning from Free Courses</h2>
    <ul class="space-y-3">
      <li class="flex gap-3"><span class="text-amber-400 font-bold">üí°</span><div><span class="text-slate-200 font-semibold">Set Goals:</span> <span class="text-slate-400">Define what you want to achieve before starting the course.</span></div></li>
      <li class="flex gap-3"><span class="text-amber-400 font-bold">üìÖ</span><div><span class="text-slate-200 font-semibold">Create a Schedule:</span> <span class="text-slate-400">Dedicate time each week to complete lessons and assignments.</span></div></li>
      <li class="flex gap-3"><span class="text-amber-400 font-bold">üí¨</span><div><span class="text-slate-200 font-semibold">Engage Actively:</span> <span class="text-slate-400">Take notes, participate in discussions, and complete quizzes for better retention.</span></div></li>
      <li class="flex gap-3"><span class="text-amber-400 font-bold">üîß</span><div><span class="text-slate-200 font-semibold">Practice Skills:</span> <span class="text-slate-400">Apply what you learn through real-life projects or exercises.</span></div></li>
    </ul>
  </section>

  <section class="mb-12" aria-label="FAQ">
    <h2 class="text-3xl font-bold text-slate-100 mb-6">Frequently Asked Questions</h2>
    <div class="space-y-3">
      <details class="bg-slate-800/50 border border-slate-700 rounded-lg p-4 hover:border-slate-600 transition-colors cursor-pointer group">
        <summary class="font-semibold text-slate-200 group-open:text-blue-400">Do free Udemy courses offer certificates?</summary>
        <div class="mt-3 text-slate-400">Some free courses provide optional paid certificates that you can add to your resume or LinkedIn profile.</div>
      </details>

      <details class="bg-slate-800/50 border border-slate-700 rounded-lg p-4 hover:border-slate-600 transition-colors cursor-pointer group">
        <summary class="font-medium">Are free Udemy courses as comprehensive as paid ones?</summary>
        <div class="mt-2 text-slate-400">While free courses cover the basics, paid courses often provide more in-depth knowledge and resources.</div>
      </details>

      <details class="bg-slate-800/50 border border-slate-700 rounded-lg p-4 hover:border-slate-600 transition-colors cursor-pointer group">
        <summary class="font-medium">Can I access free Udemy courses on the Udemy app?</summary>
        <div class="mt-2 text-slate-400">Yes, free courses are accessible on the Udemy app, allowing you to learn on the go.</div>
      </details>

      <details class="bg-slate-800/50 border border-slate-700 rounded-lg p-4 hover:border-slate-600 transition-colors cursor-pointer group">
        <summary class="font-medium">How often does Udemy update its free course offerings?</summary>
        <div class="mt-2 text-slate-400">Udemy frequently updates its list of free courses, especially during promotions or special events.</div>
      </details>

      <details class="bg-slate-800/50 border border-slate-700 rounded-lg p-4 hover:border-slate-600 transition-colors cursor-pointer group">
        <summary class="font-medium">Are free Udemy courses self-paced?</summary>
        <div class="mt-2 text-slate-400">Yes, all free Udemy courses allow learners to study at their own pace.</div>
      </details>

      <details class="bg-slate-800/50 border border-slate-700 rounded-lg p-4 hover:border-slate-600 transition-colors cursor-pointer group">
        <summary class="font-semibold text-slate-200 group-open:text-blue-400">What are the benefits of taking free Udemy courses?</summary>
        <div class="mt-3 text-slate-400">Free courses offer a cost-effective way to gain new skills, enhance career opportunities, and explore topics of interest.</div>
      </details>

      <details class="bg-slate-800/50 border border-slate-700 rounded-lg p-4 hover:border-slate-600 transition-colors cursor-pointer group">
        <summary class="font-semibold text-slate-200 group-open:text-blue-400">How can I get notified about new free courses on Udemy?</summary>
        <div class="mt-3 text-slate-400">Subscribe to Udemy's email list and follow their social media channels for updates on free course offerings.</div>
      </details>
    </div>
  </section>

  <script define:vars={{ courses, categories }}>
    const ITEMS_PER_PAGE = 12;
    let currentCategory = null;
    let currentPage = 1;
    let filteredCourses = courses;

    // Course card template
    function createCourseCard(course) {
      return `
        <article class="block border border-slate-700 rounded-lg shadow-sm hover:shadow-xl transition-all duration-300 overflow-hidden group bg-gradient-to-br from-slate-800/80 to-slate-800/40 backdrop-blur-sm hover:border-blue-500/50">
          <div class="relative">
            <a href="/coupon/${course.slug}" aria-label="Get ${course.discount} off ${course.title}">
              <img
                src="${course.image}"
                alt="${course.title} - ${course.discount} off Udemy course by ${course.instructor}"
                class="w-full h-48 object-cover group-hover:brightness-110 transition-all duration-300"
                loading="lazy"
                width="400"
                height="225"
              />
            </a>
            <div class="absolute top-2 right-2 bg-gradient-to-r from-blue-600 to-blue-500 text-white text-sm px-3 py-1.5 rounded-full font-bold shadow-lg">
              ${course.discount}
            </div>
          </div>
          <div class="p-4">
            <h3 class="font-bold text-slate-100 mb-2 line-clamp-2 text-base leading-tight hover:text-blue-400 transition-colors">
              <a href="/coupon/${course.slug}">${course.title}</a>
            </h3>
            ${course.description ? `<p class="text-sm text-slate-400 mb-2 line-clamp-2">${course.description}</p>` : ''}
            <div class="text-xs text-slate-500 mb-3 font-medium" aria-label="Instructor: ${course.instructor}">
              By <span class="text-slate-300">${course.instructor}</span>
            </div>
              <div class="flex items-center gap-2 mb-3 flex-wrap">
              <div class="bg-amber-500/20 border border-amber-500/40 rounded-full px-2 py-1 text-xs font-semibold text-amber-300" aria-label="Rating: ${course.rating}">
                ‚òÖ ${course.rating}
              </div>
              <div class="bg-blue-500/15 border border-blue-500/30 rounded-full px-2 py-1 text-xs text-blue-300 font-medium" aria-label="Students: ${course.students}">
                ${course.students.toLocaleString()} students
              </div>
              <div class="bg-slate-700/50 border border-slate-600 rounded-full px-2 py-1 text-xs text-slate-300" aria-label="Duration: ${course.duration}">
                ${course.duration}
              </div>
              <div class="bg-slate-700/50 border border-slate-600 rounded-full px-2 py-1 text-xs text-slate-300" aria-label="Lectures: ${course.totalLectures}">
                ${course.totalLectures}
              </div>
              <div class="bg-slate-700/50 border border-slate-600 rounded-full px-2 py-1 text-xs text-slate-300" aria-label="Level: ${course.level}">
                ${course.level}
              </div>
            </div>
            <div class="bg-gradient-to-r from-blue-600/20 to-blue-500/20 border border-blue-500/40 rounded-lg p-3 text-center mt-4">
              <div class="flex items-center justify-center space-x-2">
                <span class="text-xl font-bold text-blue-400">${course.price}</span>
                <span class="text-sm text-slate-400 line-through">${course.originalPrice}</span>
              </div>
            </div>
            <a
              href="/coupon/${course.slug}"
              class="mt-4 inline-flex items-center justify-center w-full gap-2 text-sm text-white bg-gradient-to-r from-blue-600 to-blue-500 hover:from-blue-700 hover:to-blue-600 font-semibold transition-all duration-300 rounded-lg py-2.5 shadow-lg hover:shadow-blue-500/50"
              aria-label="View coupon details for ${course.title}"
            >
              View Coupon ‚Üí
            </a>
          </div>
        </article>
      `;
    }

    // Update page content
    function updatePageContent() {
      const titleElement = document.getElementById('page-title');
      const descriptionElement = document.getElementById('page-description');
      const totalCountElement = document.getElementById('total-count');

      if (currentCategory) {
        titleElement.textContent = `Free ${currentCategory} Course Coupons`;
        descriptionElement.textContent = `Find verified 90% off ${currentCategory.toLowerCase()} courses with lifetime access.`;
        totalCountElement.textContent = filteredCourses.length;
      } else {
        titleElement.textContent = 'Free Udemy Courses online';
        descriptionElement.textContent = 'Explore top free Udemy courses to enhance your skills in programming, business, marketing, and more. With self-paced learning options and a variety of categories, Udemy offers accessible education for everyone.';
        totalCountElement.textContent = courses.length;
      }
    }

    // Render courses
    function renderCourses() {
      const grid = document.getElementById('courses-grid');
      const startIndex = (currentPage - 1) * ITEMS_PER_PAGE;
      const endIndex = startIndex + ITEMS_PER_PAGE;
      const coursesToShow = filteredCourses.slice(startIndex, endIndex);

      grid.innerHTML = coursesToShow.map(createCourseCard).join('');
    }

    // Render pagination
    function renderPagination() {
      const container = document.getElementById('pagination-container');
      const totalPages = Math.ceil(filteredCourses.length / ITEMS_PER_PAGE);

      if (totalPages <= 1) {
        container.style.display = 'none';
        return;
      }

      container.style.display = 'flex';

      let html = '<nav class="flex flex-wrap gap-2" aria-label="Pagination">';

      // Previous button
      if (currentPage > 1) {
        const prevUrl = currentPage === 2 ? '/coupon/' : `/coupon/page/${currentPage - 1}`;
        const url = currentCategory ? `${prevUrl}?category=${createSlug(currentCategory)}` : prevUrl;
        html += `<a href="${url}" class="px-4 py-2 border border-slate-600 rounded-lg text-slate-300 hover:text-slate-100 hover:border-blue-500 hover:bg-blue-500/10 transition-all duration-300 font-medium">‚Üê Previous</a>`;
      }

      // Page numbers
      const startPage = Math.max(1, currentPage - 2);
      const endPage = Math.min(totalPages, currentPage + 2);

      if (startPage > 1) {
        const url = currentCategory ? `/coupon/?category=${createSlug(currentCategory)}` : '/coupon/';
        html += `<a href="${url}" class="px-4 py-2 border border-slate-600 rounded-lg text-slate-300 hover:text-slate-100 hover:border-blue-500 hover:bg-blue-500/10 transition-all duration-300 font-medium">1</a>`;
        if (startPage > 2) {
          html += '<span class="px-3 py-2 text-slate-500">...</span>';
        }
      }

      for (let i = startPage; i <= endPage; i++) {
        const isActive = i === currentPage;
        const pageUrl = i === 1 ? '/coupon/' : `/coupon/page/${i}`;
        const url = currentCategory ? `${pageUrl}?category=${createSlug(currentCategory)}` : pageUrl;
        html += `<a href="${url}" class="px-4 py-2 border rounded-lg transition-all duration-300 font-medium ${isActive ? 'bg-gradient-to-r from-blue-600 to-blue-500 text-white border-blue-500 shadow-lg shadow-blue-500/30' : 'border-slate-600 text-slate-300 hover:text-slate-100 hover:border-blue-500 hover:bg-blue-500/10'}">${i}</a>`;
      }

      if (endPage < totalPages) {
        if (endPage < totalPages - 1) {
          html += '<span class="px-3 py-2 text-slate-500">...</span>';
        }
        const url = currentCategory ? `/coupon/page/${totalPages}?category=${createSlug(currentCategory)}` : `/coupon/page/${totalPages}`;
        html += `<a href="${url}" class="px-4 py-2 border border-slate-600 rounded-lg text-slate-300 hover:text-slate-100 hover:border-blue-500 hover:bg-blue-500/10 transition-all duration-300 font-medium">${totalPages}</a>`;
      }

      // Next button
      if (currentPage < totalPages) {
        const url = currentCategory ? `/coupon/page/${currentPage + 1}?category=${createSlug(currentCategory)}` : `/coupon/page/${currentPage + 1}`;
        html += `<a href="${url}" class="px-4 py-2 border border-slate-600 rounded-lg text-slate-300 hover:text-slate-100 hover:border-blue-500 hover:bg-blue-500/10 transition-all duration-300 font-medium">Next ‚Üí</a>`;
      }

      html += '</nav>';
      html += `<p class="ml-4 text-sm text-slate-400 self-center font-medium">Page ${currentPage} of ${totalPages}</p>`;

      container.innerHTML = html;
    }

    // Helper function to create URL slug from category name
    function createSlug(name) {
      return name.toLowerCase()
        .replace(/[^a-z0-9\s]/g, '') // Remove special chars like &
        .replace(/\s+/g, '-') // Replace spaces with hyphens
        .trim();
    }

    // Helper function to find category from URL slug
    function findCategoryFromSlug(slug) {
      return categories.find(cat => createSlug(cat) === slug) || slug;
    }

    // Filter courses
    function filterCourses(category) {
      if (category === 'all') {
        currentCategory = null;
        filteredCourses = courses;
        const url = new URL(window.location);
        url.searchParams.delete('category');
        window.history.pushState({}, '', url);
      } else {
        // Handle both display names and URL slugs
        const actualCategory = findCategoryFromSlug(category);
        currentCategory = actualCategory;
        filteredCourses = courses.filter(c => c.category.toLowerCase() === actualCategory.toLowerCase());
        const url = new URL(window.location);
        url.searchParams.set('category', createSlug(actualCategory));
        window.history.pushState({}, '', url);
      }

      currentPage = 1;
      updatePageContent();
      renderCourses();
      renderPagination();
    }

    // Initialize on page load
    function init() {
      const urlParams = new URLSearchParams(window.location.search);
      const categoryParam = urlParams.get('category');

      if (categoryParam) {
        // Convert URL slug back to actual category name for filtering
        const actualCategory = findCategoryFromSlug(categoryParam);
        filterCourses(actualCategory);
      } else {
        updatePageContent();
        renderCourses();
        renderPagination();
      }
    }

    // Setup event listeners
    function setupEventListeners() {
      // No event listeners needed since filter UI was removed
    }

    // Make filterCourses global
    window.filterCourses = filterCourses;

    // Initialize
    init();
    setupEventListeners();
  </script>
</Layout>

