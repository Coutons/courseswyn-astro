---
// Category icons for navigation
const categoryIcons: Record<string, string> = {
  "IT & Software": '<svg xmlns="http://www.w3.org/2000/svg" width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-database"><ellipse cx="12" cy="5" rx="9" ry="3"/><path d="M3 5V19A9 3 0 0 0 21 19V5"/><path d="M3 12A9 3 0 0 0 21 12"/></svg>',
  "Web Development": '<svg xmlns="http://www.w3.org/2000/svg" width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-code"><polyline points="16 18 2 22 6 12"/><line x1="23" y1="6" x2="16" y2="6"/><line x1="8" y1="22" x2="16" y2="22"/></svg>',
  "Data Science": '<svg xmlns="http://www.w3.org/2000/svg" width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-database"><ellipse cx="12" cy="5" rx="9" ry="3"/><path d="M3 5V19A9 3 0 0 0 21 19V5"/><path d="M3 12A9 3 0 0 0 21 12"/></svg>',
  "Business": '<svg xmlns="http://www.w3.org/2000/svg" width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-briefcase"><rect x="2" y="7" width="20" height="14" rx="2" ry="2"/><path d="M16 21V5a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16"/></svg>',
  "Design": '<svg xmlns="http://www.w3.org/2000/svg" width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-palette"><circle cx="13.5" cy="6.5" r=".5"/><circle cx="17.5" cy="10.5" r=".5"/><circle cx="8.5" cy="7.5" r=".5"/><circle cx="6.5" cy="12.5" r=".5"/><path d="M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10c1.89 0 3.67-.5 5.27-1.34"/><path d="m22 2-1 1 1"/></svg>',
  "Marketing": '<svg xmlns="http://www.w3.org/2000/svg" width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-megaphone"><path d="m18 8 1.5 1.5"/><path d="m21 3-9-1-1-8 2v8c0 4.5 2 9 9 9s9-4.5 9-9"/><path d="M18 8a2 2 0 0 1 2 2v0a2 2 0 0 1-2 2h0a2 2 0 0 1-2-2v0a2 2 0 0 1 2-2z"/></svg>',
  "Personal Development": '<svg xmlns="http://www.w3.org/2000/svg" width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-target"><circle cx="12" cy="12" r="10"/><circle cx="12" cy="12" r="6"/><circle cx="12" cy="12" r="2"/></svg>',
  "Photography & Video": '<svg xmlns="http://www.w3.org/2000/svg" width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-camera"><path d="M23 19a2 2 0 0 1-2 2H3a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h4l2-3h6a2 2 0 0 1 2 2v4"/><circle cx="13" cy="19" r="2"/><circle cx="13" cy="19" r="2"/></svg>'
};

// Flat Authority Model - All silos stand directly at root level
const topCategories = [
  { name: "Python Courses", slug: "python-udemy-coupons", icon: categoryIcons["IT & Software"] },
  { name: "Web Development", slug: "web-development-udemy-coupons", icon: categoryIcons["Web Development"] },
  { name: "Data Science", slug: "data-science-udemy-coupons", icon: categoryIcons["Data Science"] },
  { name: "Business", slug: "business-udemy-coupons", icon: categoryIcons["Business"] },
  { name: "Design", slug: "design-udemy-coupons", icon: categoryIcons["Design"] },
  { name: "Marketing", slug: "marketing-udemy-coupons", icon: categoryIcons["Marketing"] }
];
---

<!-- SEO-Optimized Header for Long-Tail Authority + Category Silo -->
<header class="sticky top-0 z-50 border-b border-border bg-background/80 backdrop-blur-xl">
  <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
    <div class="flex justify-between items-center h-16">
      <!-- Logo -->
      <div class="flex items-center gap-3">
        <a href="/" class="flex items-center gap-2">
          <div class="w-8 h-8 bg-gradient-to-br from-primary to-accent rounded-xl flex items-center justify-center text-primary-foreground font-bold text-sm">
            CW
          </div>
          <span class="text-xl font-bold text-foreground">CoursesWyn</span>
        </a>
      </div>

      <!-- Desktop Navigation -->
      <nav class="hidden lg:flex items-center gap-8">
        <a href="/" class="nav-link">Home</a>
        <a href="/coupon" class="nav-link">All Coupons</a>
        
        <!-- Categories Dropdown -->
        <div class="relative group">
          <button class="nav-link flex items-center gap-1">
            Categories
            <svg class="w-4 h-4 transition-transform group-hover:rotate-180" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"></path>
            </svg>
          </button>
          
          <div class="absolute top-full left-0 mt-2 w-64 bg-card rounded-xl shadow-xl border border-border opacity-0 invisible group-hover:opacity-100 group-hover:visible transition-all duration-200 transform group-hover:translate-y-0 translate-y-2">
            <div class="p-2">
              {topCategories.map((category) => (
                <a
                  href={`/${category.slug}/`}
                  class="flex items-center gap-3 px-4 py-3 rounded-lg hover:bg-muted transition-colors group/item"
                >
                  <div class="w-8 h-8 bg-muted rounded-lg flex items-center justify-center text-sm group-hover/item:bg-primary/10 group-hover/item:text-primary transition-colors">
                    <div set:html={category.icon} />
                  </div>
                  <span class="text-sm font-medium text-foreground group-hover/item:text-foreground">{category.name}</span>
                </a>
              ))}
            </div>
          </div>
        </div>
        
        <a href="/blog" class="nav-link">Blog</a>
        <a href="/about" class="nav-link">About</a>
        <a href="/contact-us" class="nav-link">Contact</a>
      </nav>

      <!-- Desktop Search -->
      <div class="hidden lg:flex items-center gap-3">
        <div class="relative">
          <input type="search" 
                 placeholder="Search coupons..." 
                 class="w-64 px-4 py-2 text-sm bg-card border border-border rounded-lg 
                        focus:outline-none focus:ring-2 focus:ring-primary focus:border-primary 
                        text-foreground placeholder-muted-foreground">
          <svg class="absolute right-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-muted-foreground" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"></path>
          </svg>
        </div>
      </div>

      <!-- Mobile Menu Button -->
      <button class="lg:hidden p-2 rounded-lg hover:bg-muted transition-colors" id="mobile-menu-button">
        <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16"></path>
        </svg>
      </button>
    </div>

    <!-- Mobile Menu -->
    <div class="lg:hidden hidden" id="mobile-menu">
      <nav class="py-4 border-t border-border">
        <a href="/" class="block px-4 py-3 text-base font-medium text-foreground hover:bg-muted hover:text-foreground">Home</a>
        <a href="/coupon" class="block px-4 py-3 text-base font-medium text-foreground hover:bg-muted hover:text-foreground">All Coupons</a>
        
        <div class="px-4 py-3">
          <div class="text-sm font-medium text-muted-foreground mb-2">Categories</div>
          <div class="space-y-1">
            {topCategories.map((category) => (
              <a
                href={`/${category.slug}/`}
                class="flex items-center gap-3 px-3 py-2 rounded-lg hover:bg-muted transition-colors"
              >
                <div class="w-6 h-6 bg-muted rounded flex items-center justify-center text-xs">
                  {category.icon}
                </div>
                <span class="text-sm font-medium text-foreground">{category.name}</span>
              </a>
            ))}
          </div>
        </div>
        
        <a href="/blog" class="block px-4 py-3 text-base font-medium text-foreground hover:bg-muted hover:text-foreground">Blog</a>
        <a href="/about" class="block px-4 py-3 text-base font-medium text-foreground hover:bg-muted hover:text-foreground">About</a>
        <a href="/contact-us" class="block px-4 py-3 text-base font-medium text-foreground hover:bg-muted hover:text-foreground">Contact</a>
        
        <!-- Mobile Search -->
        <div class="px-4 py-3">
          <div class="relative">
            <input type="search" 
                   placeholder="Search courses..." 
                   class="w-full px-4 py-3 text-sm bg-card border border-border rounded-lg 
                          focus:outline-none focus:ring-2 focus:ring-primary focus:border-primary 
                          text-foreground placeholder-muted-foreground">
            <svg class="absolute right-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-muted-foreground" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"></path>
            </svg>
          </div>
        </div>
      </nav>
    </div>
  </div>
</header>

<script>
  // Mobile menu toggle
  document.getElementById('mobile-menu-button')?.addEventListener('click', () => {
    const menu = document.getElementById('mobile-menu');
    menu?.classList.toggle('hidden');
  });
</script>
