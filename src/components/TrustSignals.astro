---
const { course } = Astro.props;

// Safe review display - no fabricated reviews
const reviewDisplay = {
  platform: "Udemy",
  totalReviews: course.students,
  averageRating: course.rating,
  lastVerified: course.lastVerified,
  instructor: course.instructor
};
---

<!-- Trust Signals Section - Premium Modern Design -->
<section class="trust-signals">
  <div class="trust-container">
    <div class="rating-card">
      <div class="rating-header">
        <div class="rating-stars">
          <div class="stars-container">
            {'‚≠ê'.repeat(Math.floor(course.rating))}
          </div>
          <span class="rating-number">{course.rating}</span>
        </div>
        <div class="rating-badge">
          <span class="badge-icon">‚≠ê</span>
          <span class="badge-text">Top Rated</span>
        </div>
      </div>
      <div class="rating-details">
        <div class="student-count">
          <span class="count-number">{course.students.toLocaleString()}</span>
          <span class="count-label">Based on {reviewDisplay.platform} students</span>
        </div>
        <div class="platform-info">
          <div class="platform-icon">
            <svg width="20" height="20" viewBox="0 0 24 24" fill="currentColor">
              <path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8z"/>
              <path d="M12 6v6l4 2"/>
            </svg>
          </div>
          <span class="platform-name">{reviewDisplay.platform}</span>
        </div>
      </div>
    </div>
    
    <div class="verification-card">
      <div class="verification-header">
        <div class="verification-icon">
          <div class="icon-wrapper">
            <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
              <path stroke-linecap="round" stroke-linejoin="round" d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"/>
              <path stroke-linecap="round" stroke-linejoin="round" d="M12 9v2m0 4h.01"/>
            </svg>
          </div>
        </div>
        <div class="verification-content">
          <div class="verification-title">
            <span class="verified-text">Verified</span>
            <span class="verified-date">{reviewDisplay.lastVerified}</span>
          </div>
          <div class="verification-subtitle">Coupon authenticity confirmed</div>
        </div>
      </div>
      <div class="verification-badge">
        <span class="badge-pulse"></span>
        <span class="badge-text">Authentic</span>
      </div>
    </div>
    
    <div class="instructor-card">
      <div class="instructor-avatar">
        <div class="avatar-circle">
          <span class="avatar-text">{course.instructor.charAt(0).toUpperCase()}</span>
        </div>
      </div>
      <div class="instructor-details">
        <div class="instructor-name">{course.instructor}</div>
        <div class="instructor-role">Expert Instructor on {reviewDisplay.platform}</div>
        <div class="instructor-stats">
          <div class="stat-item">
            <span class="stat-icon">üë•</span>
            <span class="stat-text">{course.students.toLocaleString()} Students</span>
          </div>
          <div class="stat-item">
            <span class="stat-icon">‚≠ê</span>
            <span class="stat-text">{course.rating} Rating</span>
          </div>
        </div>
      </div>
    </div>
  </div>
</section>

<style>
.trust-signals {
  @apply space-y-6;
}

.trust-container {
  @apply space-y-4;
}

.rating-card {
  @apply bg-slate-900/60 backdrop-blur-sm border border-slate-700/50 rounded-2xl p-6 hover:border-primary/30 transition-all duration-300 hover:shadow-lg hover:shadow-primary/10;
}

.rating-header {
  @apply flex items-start justify-between mb-4;
}

.rating-stars {
  @apply flex items-center gap-2;
}

.stars-container {
  @apply text-2xl drop-shadow-[0_0_8px_rgba(250,204,21,0.6)];
}

.rating-number {
  @apply text-2xl font-bold text-white;
}

.rating-badge {
  @apply flex items-center gap-2 bg-gradient-to-r from-yellow-500/20 to-orange-500/20 px-3 py-1.5 rounded-full border border-yellow-500/30;
}

.badge-icon {
  @apply text-yellow-400 text-sm;
}

.badge-text {
  @apply text-xs font-bold text-yellow-300 uppercase tracking-wider;
}

.rating-details {
  @apply space-y-3 mt-4;
}

.student-count {
  @apply flex items-center gap-2;
}

.count-number {
  @apply text-xl font-bold text-white;
}

.count-label {
  @apply text-sm text-slate-400;
}

.platform-info {
  @apply flex items-center gap-2;
}

.platform-icon {
  @apply text-primary;
}

.platform-name {
  @apply text-sm font-medium text-primary;
}

.verification-card {
  @apply bg-gradient-to-r from-green-500/10 to-emerald-500/10 border border-green-500/30 rounded-2xl p-6 hover:border-green-500/50 transition-all duration-300 relative overflow-hidden;
}

.verification-header {
  @apply flex items-start gap-4;
}

.verification-icon {
  @apply relative;
}

.icon-wrapper {
  @apply w-12 h-12 bg-green-500/20 rounded-full flex items-center justify-center text-green-400 border border-green-500/30;
}

.verification-content {
  @apply flex-1;
}

.verification-title {
  @apply flex items-center gap-2 mb-1;
}

.verified-text {
  @apply text-white font-bold text-lg;
}

.verified-date {
  @apply text-green-300 text-sm font-medium;
}

.verification-subtitle {
  @apply text-green-400 text-xs;
}

.verification-badge {
  @apply absolute top-4 right-4 bg-green-500 text-white text-[10px] font-bold px-2 py-1 rounded-full flex items-center gap-1;
}

.badge-pulse {
  @apply w-2 h-2 bg-white rounded-full animate-pulse;
}

.instructor-card {
  @apply bg-slate-900/60 backdrop-blur-sm border border-slate-700/50 rounded-2xl p-6 hover:border-primary/30 transition-all duration-300 hover:shadow-lg hover:shadow-primary/10;
}

.instructor-avatar {
  @apply flex items-center gap-4 mb-4;
}

.avatar-circle {
  @apply w-16 h-16 bg-primary rounded-full flex items-center justify-center text-primary-foreground font-black text-xl shadow-lg;
}

.avatar-text {
  @apply text-white;
}

.instructor-details {
  @apply flex-1;
}

.instructor-name {
  @apply text-white font-bold text-lg mb-1;
}

.instructor-role {
  @apply text-primary text-sm mb-3;
}

.instructor-stats {
  @apply flex gap-4;
}

.stat-item {
  @apply flex items-center gap-2 text-slate-300;
}

.stat-icon {
  @apply text-sm;
}

.stat-text {
  @apply text-sm font-medium;
}
</style>
