---
import type { HTMLAttributes } from 'astro/types';

interface Props extends HTMLAttributes<'div'> {}

const { ...props } = Astro.props;
---

<section class="bg-[#1a1d29] border-b border-[#2d3748] py-20" {...props}>
  <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
    <div class="grid grid-cols-1 lg:grid-cols-2 gap-12 items-center">
      
      <!-- Left Column: Text -->
      <div>
        <h1 class="text-5xl lg:text-6xl font-bold text-white mb-6 leading-tight">
          Get Premium Udemy Courses for FREE Today!
        </h1>
        <p class="text-xl text-gray-400 mb-6 font-medium">
          Unlock Your Learning Potential with 100% Free Coupons
        </p>
        <p class="text-gray-500 leading-relaxed max-w-xl">
          Discover thousands of premium Udemy courses completely free! From programming and design to business and marketing – learn anything without spending a dime. Join over 50,000+ students who've saved millions on their education.
        </p>
      </div>

      <!-- Right Column: Search & Buttons -->
      <div>
      <!-- Search Bar (Designed to match screenshot) -->
      <form action="/search" method="GET" class="max-w-2xl mx-auto mb-12 relative group">
        <div class="flex items-center bg-[#242938] rounded-xl border border-[#2d3748] p-1.5 shadow-lg group-focus-within:border-green-500 transition-all h-14">
           
           <!-- Icon -->
           <div class="pl-4 pr-3 text-gray-500">
              <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"/></svg>
           </div>
           
           <!-- Input -->
           <input 
              type="text" 
              name="q"
              id="hero-search-input"
              class="w-full bg-transparent border-none focus:ring-0 text-white placeholder-gray-500 text-base h-full"
              autocomplete="off"
           />

           <!-- Right Hint (Cmd + K) -->
           <div class="hidden sm:flex items-center pr-4 text-xs text-gray-500 font-medium pointer-events-none gap-1">
               <span>Press</span> 
               <kbd class="bg-[#1a1d29] border border-[#2d3748] rounded px-1.5 py-0.5 text-gray-400 font-sans">⌘</kbd> 
               <span>+</span>
               <kbd class="bg-[#1a1d29] border border-[#2d3748] rounded px-1.5 py-0.5 text-gray-400 font-sans">K</kbd>
               <span>to search</span>
           </div>
        </div>
      </form>

      <!-- Buttons -->
      <div class="flex flex-wrap justify-center gap-4">
         <a href="/udemy-coupon-code" class="flex items-center gap-2 px-6 py-3 bg-white text-[#1a1d29] rounded-xl font-bold hover:bg-gray-100 transition-colors">
            <svg class="w-5 h-5" fill="currentColor" viewBox="0 0 20 20"><path d="M5 3a2 2 0 00-2 2v2a2 2 0 002 2h2a2 2 0 002-2V5a2 2 0 00-2-2H5zM5 11a2 2 0 00-2 2v2a2 2 0 002 2h2a2 2 0 002-2v-2a2 2 0 00-2-2H5zM11 5a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2h-2a2 2 0 01-2-2V5zM11 13a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2h-2a2 2 0 01-2-2v-2z"/></svg>
            Browse Courses
         </a>
         <a href="/categories" class="flex items-center gap-2 px-6 py-3 bg-transparent border border-green-500 text-green-500 rounded-xl font-bold hover:bg-green-500/10 transition-colors">
             <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 6.253v13m0-13C10.832 5.477 9.246 5 7.5 5S4.168 5.477 3 6.253v13C4.168 18.477 5.754 18 7.5 18s3.332.477 4.5 1.253m0-13C13.168 5.477 14.754 5 16.5 5c1.747 0 3.332.477 4.5 1.253v13C19.832 18.477 18.247 18 16.5 18c-1.746 0-3.332.477-4.5 1.253"/></svg>
             Browse by Category
         </a>
      </div>
      
      <!-- Typewriter Script -->
      <script>
        const input = document.getElementById('hero-search-input');
        const placeholders = [
            "Try: 'Python programming'", 
            "Try: 'Web design'", 
            "Try: 'Business Analysis'", 
            "Try: 'Marketing Strategy'"
        ];
        let pIndex = 0;
        let charIndex = 0;
        let isDeleting = false;
        let typeSpeed = 100;

        function type() {
            if (!input) return;
            
            const currentText = placeholders[pIndex];
            
            if (isDeleting) {
                input.placeholder = currentText.substring(0, charIndex--);
                typeSpeed = 50;
            } else {
                input.placeholder = currentText.substring(0, charIndex++);
                typeSpeed = 100;
            }

            if (!isDeleting && charIndex === currentText.length) {
                isDeleting = true;
                typeSpeed = 2000; // Pause at end
            } else if (isDeleting && charIndex === 0) {
                isDeleting = false;
                pIndex = (pIndex + 1) % placeholders.length;
                typeSpeed = 500;
            }

            setTimeout(type, typeSpeed);
        }

        // Start typing on load
        document.addEventListener('DOMContentLoaded', type);
        
        // Handle Cmd+K Focus
        document.addEventListener('keydown', (e) => {
            if ((e.metaKey || e.ctrlKey) && e.key === 'k') {
                e.preventDefault();
                input?.focus();
            }
        });
      </script>

      </div>

    </div>
  </div>
</section>
